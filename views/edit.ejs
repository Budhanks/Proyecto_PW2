<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/estilos.css">
    <title>Editar Usuario</title>
</head>
<body>
    <nav class="blue lighten-1">
        <div class="nav-wrapper container">
            <a href="/" class="brand-logo">CRUD Usuarios</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a href="/">Inicio</a></li>
                <li><a href="/usuario/nuevo">Agregar Usuario</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h2 class="center-align">Editar Usuario</h2>
        <!-- El action se actualiza para apuntar correctamente al endpoint de actualización -->
        <form action="/update/<%= usuario.id_usr %>" method="POST" class="col s12">
            <div class="row">
                <div class="input-field col s6">
                    <input id="nombre" type="text" name="nombre" value="<%= usuario.nombre %>" required maxlength="20" pattern="[a-zA-Z ]+">
                    <label for="nombre">Nombre</label>
                </div>
                <div class="input-field col s6">
                    <input id="ap_paterno" type="text" name="ap_paterno" value="<%= usuario.ap_paterno %>" required maxlength="20" pattern="[a-zA-Z ]+">
                    <label for="ap_paterno">Apellido Paterno</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input id="ap_materno" type="text" name="ap_materno" value="<%= usuario.ap_materno %>" required maxlength="20" pattern="[a-zA-Z ]+">
                    <label for="ap_materno">Apellido Materno</label>
                </div>
                <div class="input-field col s6">
                    <input id="edad" type="number" name="edad" value="<%= usuario.edad %>" required maxlength="3" min="1" max="120">
                    <label for="edad">Edad</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input id="oficio" type="text" name="oficio" value="<%= usuario.oficio %>" required maxlength="20" pattern="[a-zA-Z ]+">
                    <label for="oficio">Oficio</label>
                </div>
                <div class="input-field col s6">
                    <input id="correo" type="email" name="correo" value="<%= usuario.correo %>" required maxlength="40">
                    <label for="correo">Correo</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input id="telefono" type="text" name="telefono" value="<%= usuario.telefono %>" required maxlength="10" pattern="[0-9]{10}">
                    <label for="telefono">Teléfono</label>
                </div>
                <div class="input-field col s6">
                    <input id="direccion" type="text" name="direccion" value="<%= usuario.direccion %>" required maxlength="50">
                    <label for="direccion">Dirección</label>
                </div>
            </div>
            <div class="row center-align">
                <button type="submit" class="btn-large waves-effect waves-light blue lighten-1">Actualizar</button>
                <a href="/" class="btn-large waves-effect waves-light grey lighten-1">Cancelar</a>
            </div>
        </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>
</html>
